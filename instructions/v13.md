おめでとうございます！電話帳アプリケーションを完成させたことは素晴らしい成果です。これで Rust の基本的な概念、特に構造体、ベクター、文字列操作、そしてユーザー入力の処理について理解を深められたと思います。

次のステップとして、もう少し進んだ概念を学ぶ新しい課題を提案します。ファイル操作とエラー処理を組み合わせた課題はいかがでしょうか？

### 演習: シンプルなテキストファイル暗号化/復号化ツール

#### 課題の概要
この演習では、テキストファイルの内容を簡単な方法で暗号化し、別のファイルに保存するプログラムを作成します。また、暗号化されたファイルを復号化する機能も実装します。これにより、ファイル操作、文字列処理、そしてエラー処理の実践的な使用方法を学びます。

#### 期待されるステップ
1. **ファイルの読み込みと書き込み**:
   - 入力ファイルから内容を読み込み、出力ファイルに書き込みます。
2. **暗号化と復号化のロジック**:
   - 簡単な暗号化アルゴリズム（例：Caesar暗号）を実装します。
3. **コマンドライン引数の処理**:
   - 操作モード（暗号化/復号化）、入力ファイル、出力ファイルをコマンドライン引数として受け取ります。
4. **エラー処理**:
   - ファイルが見つからない、読み書き権限がないなどのエラーを適切に処理します。

#### サンプルコード（開始点）



```rust
use std::fs;
use std::io::{self, Read, Write};
use std::env;

fn main() -> io::Result<()> {
    let args: Vec<String> = env::args().collect();

    if args.len() != 4 {
        println!("使用方法: {} <mode> <input_file> <output_file>", args[0]);
        println!("mode: 'encrypt' または 'decrypt'");
        return Ok(());
    }

    let mode = &args[1];
    let input_file = &args[2];
    let output_file = &args[3];

    let mut content = String::new();
    fs::File::open(input_file)?.read_to_string(&mut content)?;

    let result = match mode.as_str() {
        "encrypt" => encrypt(&content),
        "decrypt" => decrypt(&content),
        _ => {
            println!("無効なモードです。'encrypt' または 'decrypt' を使用してください。");
            return Ok(());
        }
    };

    fs::write(output_file, result)?;
    println!("処理が完了しました。結果は {} に保存されました。", output_file);

    Ok(())
}

fn encrypt(text: &str) -> String {
    // TODO: 暗号化ロジックを実装
    text.to_string()  // この行は適切な実装に置き換えてください
}

fn decrypt(text: &str) -> String {
    // TODO: 復号化ロジックを実装
    text.to_string()  // この行は適切な実装に置き換えてください
}

```

#### 実装のヒント
1. 暗号化/復号化には簡単なアルゴリズム（例：各文字のASCII値に固定値を加減する）を使用します。
2. `fs::File::open` と `fs::write` を使用してファイルの読み書きを行います。
3. `?` 演算子を使用してエラーを伝播させます。
4. `match` 式を使用して、モードに応じた処理を選択します。

#### 拡張課題
- より複雑な暗号化アルゴリズムを実装します。
- 暗号化キーをユーザーから受け取るオプションを追加します。
- 大きなファイルを効率的に処理するためにバッファリングを実装します。

この演習を通じて、Rust でのファイル操作、エラー処理、文字列処理、そしてコマンドライン引数の扱い方について学ぶことができます。これらのスキルは、実用的な Rust プログラムを書く上で非常に重要です。

準備ができたら、コーディングを始めてください。質問や追加の説明が必要な場合は、遠慮なくお聞きください。
